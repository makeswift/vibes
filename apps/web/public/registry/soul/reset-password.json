{
  "name": "reset-password",
  "type": "registry:ui",
  "dependencies": [
    "@conform-to/zod",
    "@conform-to/react",
    "zod"
  ],
  "registryDependencies": [
    "button",
    "input",
    "form-status"
  ],
  "files": [
    {
      "path": "vibes/soul/sections/reset-password/index.tsx",
      "content": "import { ResetPasswordAction, ResetPasswordForm } from './reset-password-form';\n\nexport interface ResetPasswordProps {\n  title?: string;\n  subtitle?: string;\n  action: ResetPasswordAction;\n  submitLabel?: string;\n  newPasswordLabel?: string;\n  confirmPasswordLabel?: string;\n  newPasswordPlaceholder?: string;\n  confirmPasswordPlaceholder?: string;\n}\n\n/**\n * This component supports various CSS variables for theming. Here's a comprehensive list, along\n * with their default values:\n *\n * ```css\n * :root {\n *   --reset-password-font-family: var(--font-family-body);\n *   --reset-password-title-font-family: var(--font-family-heading);\n *   --reset-password-title: var(--foreground);\n *   --reset-password-subtitle: var(--contrast-500)\n * }\n * ```\n */\nexport function ResetPassword({\n  title = 'Reset password',\n  subtitle = 'Enter a new password below to reset your account password.',\n  submitLabel,\n  newPasswordLabel,\n  confirmPasswordLabel,\n  newPasswordPlaceholder = 'New password',\n  confirmPasswordPlaceholder = 'Confirm password',\n  action,\n}: ResetPasswordProps) {\n  return (\n    <div className=\"@container\">\n      <div className=\"flex flex-col justify-center gap-y-24 px-3 py-10 @xl:flex-row @xl:px-6 @4xl:py-20 @5xl:px-20\">\n        <div className=\"flex w-full flex-col @xl:max-w-md @xl:pr-10 @4xl:pr-20\">\n          <header className=\"font-(family-name:--reset-password-font-family,var(--font-family-body))\">\n            <h1 className=\"mb-5 font-(family-name:--reset-password-title-font-family,var(--font-family-heading)) text-4xl leading-none font-medium text-(--reset-password-title,var(--foreground)) @xl:text-5xl\">\n              {title}\n            </h1>\n            <p className=\"mb-10 text-base leading-none font-light text-(--reset-password-subtitle,var(--contrast-500)) @xl:text-lg\">\n              {subtitle}\n            </p>\n          </header>\n          <ResetPasswordForm\n            action={action}\n            confirmPasswordLabel={confirmPasswordLabel}\n            confirmPasswordPlaceholder={confirmPasswordPlaceholder}\n            newPasswordLabel={newPasswordLabel}\n            newPasswordPlaceholder={newPasswordPlaceholder}\n            submitLabel={submitLabel}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:ui",
      "target": "vibes/soul/sections/reset-password/index.tsx"
    },
    {
      "path": "vibes/soul/sections/reset-password/reset-password-form.tsx",
      "content": "'use client';\n\nimport { getFormProps, getInputProps, SubmissionResult, useForm } from '@conform-to/react';\nimport { getZodConstraint, parseWithZod } from '@conform-to/zod';\nimport { useActionState } from 'react';\n\nimport { FormStatus } from '@/vibes/soul/form/form-status';\nimport { Input } from '@/vibes/soul/form/input';\nimport { Button } from '@/vibes/soul/primitives/button';\n\nimport { schema } from './schema';\n\ntype Action<State, Payload> = (state: Awaited<State>, payload: Payload) => State | Promise<State>;\n\nexport type ResetPasswordAction = Action<\n  { lastResult: SubmissionResult | null; successMessage?: string },\n  FormData\n>;\n\nexport interface ResetPasswordFormProps {\n  action: ResetPasswordAction;\n  submitLabel?: string;\n  newPasswordLabel?: string;\n  confirmPasswordLabel?: string;\n  newPasswordPlaceholder?: string;\n  confirmPasswordPlaceholder?: string;\n}\n\nexport function ResetPasswordForm({\n  action,\n  newPasswordLabel = 'New password',\n  confirmPasswordLabel = 'Confirm Password',\n  submitLabel = 'Update',\n  newPasswordPlaceholder = 'New password',\n  confirmPasswordPlaceholder = 'Confirm password',\n}: ResetPasswordFormProps) {\n  const [{ lastResult, successMessage }, formAction, isPending] = useActionState(action, {\n    lastResult: null,\n  });\n  const [form, fields] = useForm({\n    defaultValue: {\n      password: '',\n      confirmPassword: '',\n    },\n    lastResult,\n    constraint: getZodConstraint(schema),\n    shouldValidate: 'onBlur',\n    shouldRevalidate: 'onInput',\n    onValidate({ formData }) {\n      return parseWithZod(formData, { schema });\n    },\n  });\n\n  return (\n    <form {...getFormProps(form)} action={formAction} className=\"space-y-5\">\n      <Input\n        {...getInputProps(fields.password, { type: 'password' })}\n        errors={fields.password.errors}\n        key={fields.password.id}\n        label={newPasswordLabel}\n        placeholder={newPasswordPlaceholder}\n      />\n      <Input\n        {...getInputProps(fields.confirmPassword, { type: 'password' })}\n        className=\"mb-6\"\n        errors={fields.confirmPassword.errors}\n        key={fields.confirmPassword.id}\n        label={confirmPasswordLabel}\n        placeholder={confirmPasswordPlaceholder}\n      />\n      <Button loading={isPending} size=\"small\" type=\"submit\" variant=\"secondary\">\n        {submitLabel}\n      </Button>\n      {form.errors?.map((error, index) => (\n        <FormStatus key={index} type=\"error\">\n          {error}\n        </FormStatus>\n      ))}\n      {form.status === 'success' && successMessage != null && (\n        <FormStatus>{successMessage}</FormStatus>\n      )}\n    </form>\n  );\n}\n",
      "type": "registry:ui",
      "target": "vibes/soul/sections/reset-password/reset-password-form.tsx"
    },
    {
      "path": "vibes/soul/sections/reset-password/schema.ts",
      "content": "import { z } from 'zod';\n\nexport const schema = z\n  .object({\n    password: z\n      .string()\n      .min(8, { message: 'Be at least 8 characters long' })\n      .regex(/[a-zA-Z]/, { message: 'Contain at least one letter.' })\n      .regex(/[0-9]/, { message: 'Contain at least one number.' })\n      .regex(/[^a-zA-Z0-9]/, {\n        message: 'Contain at least one special character.',\n      })\n      .trim(),\n    confirmPassword: z.string(),\n  })\n  .superRefine(({ confirmPassword, password }, ctx) => {\n    if (confirmPassword !== password) {\n      ctx.addIssue({\n        code: 'custom',\n        message: 'The passwords did not match',\n        path: ['confirmPassword'],\n      });\n    }\n  });\n",
      "type": "registry:ui",
      "target": "vibes/soul/sections/reset-password/schema.ts"
    }
  ]
}